(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{572:function(s,a,t){"use strict";t.r(a);var e=t(4),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"go包管理的困境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#go包管理的困境"}},[s._v("#")]),s._v(" Go包管理的困境")]),s._v(" "),t("ul",[t("li",[s._v("没有统一的包管理")]),s._v(" "),t("li",[s._v("包之间的依赖关系很难维护")]),s._v(" "),t("li",[s._v("如果同时需要有一个包的不通过版本，非常麻烦")])]),s._v(" "),t("h2",{attrs:{id:"尝试解决"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#尝试解决"}},[s._v("#")]),s._v(" 尝试解决")]),s._v(" "),t("ul",[t("li",[s._v("尝试使用godep、govendor、glide等解决")]),s._v(" "),t("li",[s._v("未彻底解决"),t("code",[s._v("GOPATH")]),s._v("存在的问题")]),s._v(" "),t("li",[s._v("使用起来麻烦")])]),s._v(" "),t("h2",{attrs:{id:"go-modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#go-modules"}},[s._v("#")]),s._v(" Go Modules")]),s._v(" "),t("ul",[t("li",[s._v("本质上，一个Go的包就是一个项目的源码")]),s._v(" "),t("li",[s._v("gomod的作用：将Go包和Git项目关联起来")]),s._v(" "),t("li",[s._v("Go包的版本就是git项目的Tag")]),s._v(" "),t("li",[s._v("gomod就是解决“需要哪个git项目的什么版本”")])]),s._v(" "),t("h2",{attrs:{id:"使用modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用modules"}},[s._v("#")]),s._v(" 使用Modules")]),s._v(" "),t("p",[s._v("使用以下命令：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("go get github.com/xxx/xxx\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也可以加上特定的版本号")]),s._v("\ngo get github.com/xxx/xxx@0.1.3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("引入了一个包之后，"),t("code",[s._v("go.mod")]),s._v("里面会有一个"),t("code",[s._v("require github.com/xxx/xxx 版本")]),s._v("记录依赖和版本信息。")]),s._v(" "),t("h3",{attrs:{id:"如果github无法访问怎么办"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如果github无法访问怎么办"}},[s._v("#")]),s._v(" 如果github无法访问怎么办")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("goproxy.cn")]),s._v("作为代理")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("go "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" -w "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOPROXY")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://goproxy.cn,direct\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"想用本地文件替代怎么办"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#想用本地文件替代怎么办"}},[s._v("#")]),s._v(" 想用本地文件替代怎么办")]),s._v(" "),t("ul",[t("li",[s._v("在"),t("code",[s._v("go.mod")]),s._v("文件追加")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("replace github.com/xxx/xxx => xxx/xxx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("go vendor")]),s._v("缓存到本地")])]),s._v(" "),t("p",[s._v("​\t"),t("code",[s._v("go mod vendor")]),s._v("会把你用的一次性全都缓存到本地，然后编译工程的时候加上"),t("code",[s._v("go build -mod vendor")]),s._v("就不会去拉远程的最新版本，使用本地的依赖文件。")]),s._v(" "),t("h3",{attrs:{id:"创建go-modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建go-modules"}},[s._v("#")]),s._v(" 创建Go Modules")]),s._v(" "),t("div",{staticClass:"language-go line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-go"}},[t("code",[s._v("module rpc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("test\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.17")]),s._v("\n\nrequire github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),s._v("EntSecGroup"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Skylar"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("excelize v1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.1")]),s._v("\n\nrequire github"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mohae"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("deepcopy v0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20170929034955")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c48cc78d4826 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// indirect")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("第一行为你的module名称，下面是go的版本，下面是依赖的文件。")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("go mod init 上传的仓库地址")]),s._v("即可初始化一个"),t("code",[s._v("go.mod")]),s._v("文件，仓库地址不需要带上"),t("code",[s._v("http/https")]),s._v("，结尾不需要加上"),t("code",[s._v("git")]),s._v("，最后"),t("code",[s._v("push")]),s._v("到仓库即可，如果原先本地存在"),t("code",[s._v("go mod")]),s._v("文件，需要先删除后在进行初始化；增加新版本时，需要在仓库打上一个新的Tag。")])])}),[],!1,null,null,null);a.default=r.exports}}]);