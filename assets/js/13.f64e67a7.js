(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{571:function(t,e,r){"use strict";r.r(e);var a=r(4),o=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:""}},[r("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),r("h2",{attrs:{id:"goroutine"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#goroutine"}},[t._v("#")]),t._v(" Goroutine")]),t._v(" "),r("blockquote",[r("p",[t._v("Goroutine是一个与其他goroutines并行运行在同一个地址空间的"),r("code",[t._v("Go")]),t._v("函数或方法。一个运行的程序由一个或者更多个goroutine组成。它与线程、协程、进程等不同，"),r("code",[t._v("channels")]),t._v("则用于goroutines间的通信和同步访问控制。")])]),t._v(" "),r("h3",{attrs:{id:"goroutine-和-thread-的区别"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#goroutine-和-thread-的区别"}},[t._v("#")]),t._v(" goroutine 和 thread 的区别")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("内存占用，创建一个goroutine的栈内存消耗为2KB(Linux AMD64 Gov1.4后)，运行过程中，如果栈空间不够用，会自动进行扩容。")]),t._v(" "),r("p",[t._v("创建一个"),r("code",[t._v("thread")]),t._v("为了尽量避免极端情况下操作系统线程栈的溢出，默认会为其分配一个较大的栈内存(1-8MB的栈内存，线程标准"),r("code",[t._v("POSIX Thread")]),t._v(")，而且还需要一个被称之为“guard page”的区域用于和其他"),r("code",[t._v("thread")]),t._v("的栈空间进行隔离。而栈内存空间一旦创建和初始化完成之后其大小就不能再有变化，决定了在某些特殊场景下系统线程栈还是有溢出的风险。")])]),t._v(" "),r("li",[r("p",[t._v("创建/销毁，线程创建和销毁都会有巨大的消耗，是内核级的交互(trap)。")]),t._v(" "),r("p",[r("code",[t._v("POSIX")]),t._v("线程(定义了创建和操纵线程的一套API)通常是在已有的进程模型中增加的逻辑扩展，所以线程控制和进程控制很相似。而进入内核调度所消耗的性能代价比较高，开销较大。goroutine是用户态线程，是由go runtime 管理，创建和销毁的消耗非常小。")])])]),t._v(" "),r("h2",{attrs:{id:"gmp调度模型"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#gmp调度模型"}},[t._v("#")]),t._v(" GMP调度模型")]),t._v(" "),r("h2",{attrs:{id:"work-stealing-调度算法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#work-stealing-调度算法"}},[t._v("#")]),t._v(" Work-stealing 调度算法")]),t._v(" "),r("h2",{attrs:{id:"goroutine-lifecycle"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#goroutine-lifecycle"}},[t._v("#")]),t._v(" Goroutine Lifecycle")])])}),[],!1,null,null,null);e.default=o.exports}}]);