(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{586:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"c编译、链接过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#c编译、链接过程"}},[s._v("#")]),s._v(" C编译、链接过程")]),s._v(" "),t("h2",{attrs:{id:"extern和static的作用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extern和static的作用"}},[s._v("#")]),s._v(" "),t("code",[s._v("extern")]),s._v("和"),t("code",[s._v("static")]),s._v("的作用")]),s._v(" "),t("h3",{attrs:{id:"static"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#static"}},[s._v("#")]),s._v(" "),t("code",[s._v("static")])]),s._v(" "),t("h4",{attrs:{id:"_1-修饰函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-修饰函数"}},[s._v("#")]),s._v(" 1. 修饰函数")]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("static")]),s._v("修饰函数时表示，该函数只在本文件有效，也就是只能被本文件的其他函数调，其他文件不能调用(引用)。")])]),s._v(" "),t("p",[t("code",[s._v("a.c")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("func1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 不能引用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("code",[s._v("b.c")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" stu_num"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// .....")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("code",[s._v("static")]),s._v("就像是一把锁，把函数"),t("code",[s._v("func")]),s._v("的有效范围锁在了"),t("code",[s._v("b.c")]),s._v("其他"),t("code",[s._v(".c")]),s._v("看不见这个函数 ，自然无法调用。")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("因为"),t("code",[s._v("static")]),s._v("将函数名这个符号变成了“本地符号”，“本地符号”只在本文件可见，其他文件是看不见的。")])]),t("h4",{attrs:{id:"_2-修饰变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-修饰变量"}},[s._v("#")]),s._v(" 2. 修饰变量")]),s._v(" "),t("ol",[t("li",[t("p",[t("code",[s._v("static")]),s._v("修饰局部变量")]),s._v(" "),t("blockquote",[t("p",[s._v("改变的是局部变量的存储位置，从栈变为静态存储区，与“本地符号”什么的没有关系")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" va"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[t("code",[s._v("a、b")]),s._v("为“自动局部变量”，空间开辟于栈中。")]),s._v(" "),t("p",[s._v("加了"),t("code",[s._v("static")]),s._v("修饰")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" va"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[t("code",[s._v("a、b")]),s._v("变为了“静态局部变量”，"),t("code",[s._v("a、b")]),s._v("的空间开辟于静态存储区，而不再是栈。")]),s._v(" "),t("ul",[t("li",[s._v("如果没有初始化的话，比如"),t("code",[s._v("a")]),s._v("就没有初始化，"),t("code",[s._v("a")]),s._v("的空间在静态区中的"),t("code",[s._v(".bss")]),s._v("区")]),s._v(" "),t("li",[s._v("如果有初始化的话，比如"),t("code",[s._v("b")]),s._v("就有初始化，"),t("code",[s._v("b")]),s._v("的空间在静态区中的"),t("code",[s._v(".data")]),s._v("区")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("static")]),s._v("修饰全局变量")]),s._v(" "),t("blockquote",[t("p",[s._v("与修饰函数一样，让全局变量只在本文件有效，其它文件无法引用。")]),s._v(" "),t("p",[t("code",[s._v("static")]),s._v("修饰全局变量的时候，与全局变量的存储位置无关，全局变量的空间本来就是在静态存储区，加不加"),t("code",[s._v("static")]),s._v("并不能改变存储位置，"),t("code",[s._v("static")]),s._v("只是改变了符号的属性，变成了本地符号。")])])])]),s._v(" "),t("h3",{attrs:{id:"extern"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extern"}},[s._v("#")]),s._v(" "),t("code",[s._v("extern")])]),s._v(" "),t("h4",{attrs:{id:"_1-修饰函数-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-修饰函数-2"}},[s._v("#")]),s._v(" 1. 修饰函数")]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("extern")]),s._v("修饰的函数，表示除了能被本文件引用外，还可以被其他的文件引用，在其他文件中是可见的，只不过在其他文件中引用时，需要做声明。刚好与"),t("code",[s._v("static")]),s._v("相反。")])]),s._v(" "),t("p",[t("code",[s._v("a.c")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extern")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" stu_num"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extern")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("a_fun")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fun")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("code",[s._v("b.c")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extern")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fun")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" stu_num"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("事实上，"),t("code",[s._v("extern")]),s._v("不需要明确写出，因为默认是"),t("code",[s._v("extern")]),s._v("的，也就是说定义和声明可以写出如下格式：")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" stu_num"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("a_fun")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fun")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fun")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" stu_num"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"编译过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译过程"}},[s._v("#")]),s._v(" 编译过程")]),s._v(" "),t("p",[s._v("编译原理可以去看一本书：《现代编译原理》，有词法分析、语法分析、优化、生成中间代码")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stdio.h"')])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world\\n"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("源码文件 --\x3e  gcc 处理 --\x3e "),t("code",[s._v("elf")]),s._v("可执行文件")]),s._v(" "),t("p",[s._v("有这样的一个过程：预处理、编译、汇编、链接")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("gcc")]),s._v("命令文档"),t("a",{attrs:{href:"https://man7.org/linux/man-pages/man1/gcc.1.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://man7.org/linux/man-pages/man1/gcc.1.html"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"预处理-gcc-e操作-使用预处理器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#预处理-gcc-e操作-使用预处理器"}},[s._v("#")]),s._v(" 预处理："),t("code",[s._v("gcc -E")]),s._v("操作,使用预处理器")]),s._v(" "),t("blockquote",[t("p",[s._v("-E  Stop after the preprocessing stage; do not run the compiler\nproper.  The output is in the form of preprocessed source\ncode, which is sent to the standard output.")])]),s._v(" "),t("p",[s._v("预处理后的文件也是一个源码文件")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("gcc -E demo1.c -o demo1.i\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看文件内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" demo1.i\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("会发现有很多头文件和一些代码插入进来。")]),s._v(" "),t("h3",{attrs:{id:"编译-gcc-s-使用编译器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译-gcc-s-使用编译器"}},[s._v("#")]),s._v(" 编译："),t("code",[s._v("gcc -S")]),s._v("，使用编译器")]),s._v(" "),t("blockquote",[t("p",[s._v("-S  Stop after the stage of compilation proper; do not assemble.\nThe output is in the form of an assembler code file for each\nnon-assembler input file specified.")]),s._v(" "),t("p",[s._v("​")]),s._v(" "),t("p",[s._v("​           By default, the assembler file name for a source file is made\n​           by replacing the suffix .c, .i, etc., with .s.")]),s._v(" "),t("p",[s._v("​           Input files that don't require compilation are ignored.")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("gcc -S demo1.i -o demo1.s\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成汇编代码文件")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("➜ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" demo1.s     \ndemo1.s: assembler "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" text, ASCII text\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"汇编-gcc-c-使用汇编器-将汇编源码转换为机器指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#汇编-gcc-c-使用汇编器-将汇编源码转换为机器指令"}},[s._v("#")]),s._v(" 汇编："),t("code",[s._v("gcc -c")]),s._v("，使用汇编器，将汇编源码转换为机器指令")]),s._v(" "),t("blockquote",[t("p",[s._v("-c  Compile or assemble the source files, but do not link.  The\nlinking stage simply is not done.  The ultimate output is in\nthe form of an object file for each source file.")]),s._v(" "),t("p",[s._v("​     By default, the object file name for a source file is made by\n​     replacing the suffix .c, .i, .s, etc., with .o.")]),s._v(" "),t("p",[s._v("​     Unrecognized input files, not requiring compilation or")]),s._v(" "),t("p",[s._v("​     assembly, are ignored.")])]),s._v(" "),t("p",[s._v("翻译：")]),s._v(" "),t("blockquote",[t("p",[s._v("编译或组装源文件，但不要链接的\n连系阶段还没有完成。最终的输出是in\n每个源文件的目标文件的形式。默认情况下，源文件的对象文件名由\n将后缀.c， .i， .s等替换为.o。")]),s._v(" "),t("p",[s._v("无法识别的输入文件，不需要编译或")]),s._v(" "),t("p",[s._v("大会,将被忽略。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("gcc -c demo1.s -o demo1.o\n\n➜ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" demo1.o\ndemo1.o: Mach-O "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-bit object arm64\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("我这边用的是"),t("code",[s._v("mac unix")]),s._v("编译的，如果是linux则是"),t("code",[s._v("elf")]),s._v("可重定向文件")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" demo1.o\ndemo1.o: ELF "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-bit LSB relocatable, x86-64, version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SYSV"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", not stripped\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("经过上述3个操作之后生成的文件是"),t("code",[s._v("ELF")]),s._v("可重定向文件，顺带介绍一下"),t("code",[s._v("elf")]),s._v("文件的类型")]),s._v(" "),t("ul",[t("li",[s._v("REL(Relocatable file)")]),s._v(" "),t("li",[s._v("EXEC(Executable file)")])]),s._v(" "),t("h3",{attrs:{id:"链接-使用链接器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#链接-使用链接器"}},[s._v("#")]),s._v(" 链接：使用链接器")]),s._v(" "),t("blockquote",[t("p",[s._v("主要功能：把各个模块链接起来组织成为可执行文件")]),s._v(" "),t("p",[s._v("如果是直接"),t("code",[s._v("gcc demo1.c")]),s._v("，会直接把你上述几个过程都做了直接生成可执行文件，包括现在的编辑器点击的"),t("code",[s._v("Run")]),s._v("运行也是这样的一个过程。")])]),s._v(" "),t("p",[s._v("例如：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("a.c b.c 源码文件\na.o b.o 目标文件\na.o b.o 一些库文件[运行库]\n最后一起链接得到可执行文件\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("为什么要链接：因为我们某些文件里的，使用的比如："),t("code",[s._v("printf")]),s._v("就是标准库提供的，链接的时候会去链接它所在的库文件。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("gcc demo1.o -o demo1\n\n➜ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" demo1  \ndemo1: Mach-O "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-bit executable arm64\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("现在这个文件就是一个可执行文件。")]),s._v(" "),t("p",[s._v("直接执行")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("./demo1\nhello world\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("符号："),t("code",[s._v("Symbol")])]),s._v(" "),t("blockquote",[t("p",[s._v("在链接中，把函数的名字，变量【全局变量】的名字都称为符号")])]),s._v(" "),t("p",[s._v("在开发大型项目时，会把系统拆分成各个模块，去开发编写，在编译时，是单独编译成各个目标文件得到"),t("code",[s._v(".o")]),s._v("文件，这些模块会涉及到函数以及变量的调用【访问】，如果"),t("code",[s._v("a.c 调用foo函数")]),s._v("没有声明也没有定义，在"),t("code",[s._v("b.c重定义好的foo函数")]),s._v("，链接器会帮它去找到对应的函数地址，将各个模块链接起来。")]),s._v(" "),t("p",[s._v("实际上我们可以直接使用"),t("code",[s._v("gcc demo1.c")]),s._v("生成"),t("code",[s._v("demo1")]),s._v("可执行文件，加上"),t("code",[s._v("-o")]),s._v("可以指定对应的文件名称。")]),s._v(" "),t("h3",{attrs:{id:"步骤总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤总结"}},[s._v("#")]),s._v(" 步骤总结")]),s._v(" "),t("p",[s._v("demo.c")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("gcc -E demo1.c -o demo1.i")]),s._v(" 源码文件")]),s._v(" "),t("li",[t("code",[s._v("gcc -S demo1.i -0 demo1.o")]),s._v(" 源码文件")]),s._v(" "),t("li",[t("code",[s._v("gcc -c demo1.s -o demo1.o")]),s._v(" 目标文件 ELF格式存储")]),s._v(" "),t("li",[t("code",[s._v("gcc demo1.o -o demo1")]),s._v(" 可执行文件 是程序 ELF格式存储")])]),s._v(" "),t("p",[s._v("直接步骤："),t("code",[s._v("gcc demo1.c")]),s._v("直接得到可执行文件。")]),s._v(" "),t("h3",{attrs:{id:"目标文件-可执行文件里面的内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目标文件-可执行文件里面的内容"}},[s._v("#")]),s._v(" 目标文件/可执行文件里面的内容")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("objdump -h")]),s._v("来查看目标文件段内容")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("objdump -h demo1.o\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4021/20220503175419.png",alt:"section header"}})]),s._v(" "),t("ul",[t("li",[t("code",[s._v(".bss")]),s._v("：未初始化数据段")]),s._v(" "),t("li",[t("code",[s._v(".rodata")]),s._v("：只读数据段")]),s._v(" "),t("li",[t("code",[s._v(".text")]),s._v("：表示的就是程序的代码段【程序指令】，就是程序的代码保存在"),t("code",[s._v(".text")]),s._v("段里。")])]),s._v(" "),t("blockquote",[t("p",[s._v("简单总结：这个文件内容就是程序指令 + 程序数据构成。")])]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("objdump -s -d demo1.o")]),s._v("查看指令内容")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("\ndemo1.o:     "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),s._v(" elf64-x86-64\n\nContents of section .text:\n 0000 554889e5 bf000000 00e80000 00005dc3  UH"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".\nContents of section .rodata:\n 0000 68656c6c 6f20776f 726c642c 63206c61  hello world,c la\n 0010 6e677561 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("67652063")]),s._v(" 6f726500           nguage core.\nContents of section .comment:\n 0000 00474343 3a202847 4e552920 342e382e  .GCC: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GNU"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.8")]),s._v(".\n 0010 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("35203230")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31353036")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32332028")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("52656420")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20150623")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Red\n 0020 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("48617420")]),s._v(" 342e382e 352d3434 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2900")]),s._v("      Hat "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.8")]),s._v(".5-44"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\nContents of section .eh_frame:\n 0000 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14000000")]),s._v(" 00000000 017a5200 01781001  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".zR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n 0010 1b0c0708 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("90010000")]),s._v(" 1c000000 1c000000  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n 0020 00000000 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000000")]),s._v(" 00410e10 8602430d  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("C.\n 0030 064b0c07 08000000                    .K"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n\nDisassembly of section .text:\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面是程序代码段【程序指令】的内容以及对应的汇编代码")]),s._v("\n0000000000000000 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v("                   \tpush   %rbp\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(" e5             \tmov    %rsp,%rbp\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":\tbf 00 00 00 00       \tmov    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0x0")]),s._v(",%edi\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(":\te8 00 00 00 00       \tcallq  e "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("main+0xe"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n   e:\t5d                   \tpop    %rbp\n   f:\tc3                   \tretq\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("ul",[t("li",[s._v("file format elf64-x86-64：文件类型")]),s._v(" "),t("li",[t("code",[s._v("554889e5 bf000000 00e80000 00005dc3")]),s._v("：程序指令的内容以16进制的形式显示出来，对应的十六进制"),t("code",[s._v("0x55")]),s._v("就是开头的部分的，对应的是程序指令的内容，它反汇编后对应的汇编指令是"),t("code",[s._v("push %rbp")])]),s._v(" "),t("li",[t("code",[s._v("UH............].")]),s._v("：这部分是程序指令对应的"),t("code",[s._v("ASCII")]),s._v("码文本")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4021/20220505111234.png",alt:"汇编指令内容"}})]),s._v(" "),t("h3",{attrs:{id:"return返回值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#return返回值"}},[s._v("#")]),s._v(" return返回值")]),s._v(" "),t("blockquote",[t("p",[s._v("只能返回一个字节的大小的值，超过的就会截断")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("gcc test.c -o "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n./test\n\n\nechp "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("只返回截断的部分的低八位。")])])}),[],!1,null,null,null);a.default=e.exports}}]);