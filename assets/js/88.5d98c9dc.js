(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{645:function(s,a,t){"use strict";t.r(a);var e=t(4),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"创建项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[s._v("#")]),s._v(" 创建项目")]),s._v(" "),t("p",[s._v("使用官方给出的"),t("code",[s._v("micro")]),s._v("的镜像创建项目")]),s._v(" "),t("p",[s._v("首先使用"),t("code",[s._v("docker")]),s._v("拉取镜像")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker pull micro/micro\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("使用镜像创建模块")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker run --rm -v "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PWD")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PWD")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" -w "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PWD")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" micro/micro new user\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("项目目录搭建")]),s._v(" "),t("p",[s._v("新建"),t("code",[s._v("domain")]),s._v("目录，并创建3个子目录："),t("code",[s._v("model")]),s._v("、"),t("code",[s._v("repository")]),s._v("、"),t("code",[s._v("service")])]),s._v(" "),t("h2",{attrs:{id:"go-module使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#go-module使用"}},[s._v("#")]),s._v(" Go module使用")]),s._v(" "),t("h3",{attrs:{id:"基本设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本设置"}},[s._v("#")]),s._v(" 基本设置")]),s._v(" "),t("ul",[t("li",[s._v("Go >= 1.13 会自动默认使用"),t("code",[s._v("Go Modules")])]),s._v(" "),t("li",[s._v("Go Modules使用"),t("code",[s._v("GOPROXY")]),s._v("环境变量来解决无法使用"),t("code",[s._v("go get")]),s._v("问题")])]),s._v(" "),t("h3",{attrs:{id:"私有仓库设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#私有仓库设置"}},[s._v("#")]),s._v(" 私有仓库设置")]),s._v(" "),t("ul",[t("li",[s._v("使用"),t("code",[s._v("go env")]),s._v("查看本机参数")]),s._v(" "),t("li",[t("code",[s._v('GOPRIVATE="*.github.com"')])])]),s._v(" "),t("h3",{attrs:{id:"go-module加速设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#go-module加速设置"}},[s._v("#")]),s._v(" Go module加速设置")]),s._v(" "),t("ul",[t("li",[s._v('GOPROXY="https://goproxy.io"')]),s._v(" "),t("li",[s._v("固化可以把命令写到"),t("code",[s._v(".bashrc或者.bash_profile")]),s._v("文件当中")]),s._v(" "),t("li",[s._v("windows cmd命令设置"),t("code",[s._v('set GOPROXY="https://goproxy.io"')])])]),s._v(" "),t("h3",{attrs:{id:"go-module设置-github私有仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#go-module设置-github私有仓库"}},[s._v("#")]),s._v(" Go module设置 github私有仓库")]),s._v(" "),t("p",[s._v("生成token")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/settings/tokens/new",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/settings/tokens/new"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("将token设置到请求头中")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global http.extraheader "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PRIVATE-TOKEN:YOUR_PRIVATE_TOKEN"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("配置git将请求从ssh转换为http")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#全局替换拉取域下的所有包")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global url."),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git@github.com:xxxx"')]),s._v(".insteadOf "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/xxxx"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#全局替换拉取域下的单个包，使用“全局替换拉取域下的所有包” 可以不设置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global url."),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git@github.com:xx/xxx.git"')]),s._v(".insteadOf "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/xx/xxx.git"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("检查配置")]),s._v(" "),t("p",[t("code",[s._v("cat ~/.gitconfig")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    extraheader "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PRIVATE-TOKEN:xxxxx\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("url "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git@github.com:xxxxx"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    insteadOf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" https://github.com/xxxx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("使用"),t("code",[s._v("go env")]),s._v("查看结果")]),s._v(" "),t("p",[s._v("测试配置结果")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行")]),s._v("\ngo mod tidy  \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示")]),s._v("\ngo: finding module "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" package github.com/xxx\ngo: found github.com/xx/xxx/inits "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" github.com/xxx/xxx v1.0.1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 那么就设置成功了")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);