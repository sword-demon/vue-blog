<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网络编程概述 | wxvirus</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/vue-blog/logo.jpg">
    <script src="/vue-blog/assets/js/jq3.5.1.js"></script>
    <script src="/vue-blog/assets/js/mouse.js"></script>
    <meta name="description" content="纯粹的浪荡人士与抱定决心干大事的人，面相是截然不同的。">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="robots" content="all">
    <meta name="author" content="CHANX">
    <meta name="keywords" content="wxvirus,virusblog,无解的博客,后端,运维,blog,vuepress-blog">
    
    <link rel="preload" href="/vue-blog/assets/css/0.styles.92d18fa1.css" as="style"><link rel="preload" href="/vue-blog/assets/js/app.f1f1676c.js" as="script"><link rel="preload" href="/vue-blog/assets/js/4.cb98655f.js" as="script"><link rel="preload" href="/vue-blog/assets/js/1.5cf0eecc.js" as="script"><link rel="preload" href="/vue-blog/assets/js/178.cb5172d3.js" as="script"><link rel="prefetch" href="/vue-blog/assets/js/10.a9a0482f.js"><link rel="prefetch" href="/vue-blog/assets/js/100.bc2d3e0d.js"><link rel="prefetch" href="/vue-blog/assets/js/101.e5146912.js"><link rel="prefetch" href="/vue-blog/assets/js/102.6578789e.js"><link rel="prefetch" href="/vue-blog/assets/js/103.7c5878a7.js"><link rel="prefetch" href="/vue-blog/assets/js/104.3ad3ec94.js"><link rel="prefetch" href="/vue-blog/assets/js/105.94371bdf.js"><link rel="prefetch" href="/vue-blog/assets/js/106.e8d96973.js"><link rel="prefetch" href="/vue-blog/assets/js/107.0190dcd2.js"><link rel="prefetch" href="/vue-blog/assets/js/108.45722a27.js"><link rel="prefetch" href="/vue-blog/assets/js/109.c797c56d.js"><link rel="prefetch" href="/vue-blog/assets/js/11.162149c6.js"><link rel="prefetch" href="/vue-blog/assets/js/110.aab67bd7.js"><link rel="prefetch" href="/vue-blog/assets/js/111.2d364a63.js"><link rel="prefetch" href="/vue-blog/assets/js/112.bc0b63ac.js"><link rel="prefetch" href="/vue-blog/assets/js/113.b580adaa.js"><link rel="prefetch" href="/vue-blog/assets/js/114.5e2452c3.js"><link rel="prefetch" href="/vue-blog/assets/js/115.01f51450.js"><link rel="prefetch" href="/vue-blog/assets/js/116.1a4cd8ba.js"><link rel="prefetch" href="/vue-blog/assets/js/117.21d52772.js"><link rel="prefetch" href="/vue-blog/assets/js/118.66b8edde.js"><link rel="prefetch" href="/vue-blog/assets/js/119.b93188eb.js"><link rel="prefetch" href="/vue-blog/assets/js/12.7749f0b9.js"><link rel="prefetch" href="/vue-blog/assets/js/120.e41eae9e.js"><link rel="prefetch" href="/vue-blog/assets/js/121.8bd3d5c3.js"><link rel="prefetch" href="/vue-blog/assets/js/122.4dc8a580.js"><link rel="prefetch" href="/vue-blog/assets/js/123.f3907de3.js"><link rel="prefetch" href="/vue-blog/assets/js/124.3b97d825.js"><link rel="prefetch" href="/vue-blog/assets/js/125.9517ee1c.js"><link rel="prefetch" href="/vue-blog/assets/js/126.8fcc09c0.js"><link rel="prefetch" href="/vue-blog/assets/js/127.40c1fc1f.js"><link rel="prefetch" href="/vue-blog/assets/js/128.7dd87468.js"><link rel="prefetch" href="/vue-blog/assets/js/129.92acb150.js"><link rel="prefetch" href="/vue-blog/assets/js/13.f64e67a7.js"><link rel="prefetch" href="/vue-blog/assets/js/130.fa958258.js"><link rel="prefetch" href="/vue-blog/assets/js/131.7dd321d2.js"><link rel="prefetch" href="/vue-blog/assets/js/132.381d10c8.js"><link rel="prefetch" href="/vue-blog/assets/js/133.a730034e.js"><link rel="prefetch" href="/vue-blog/assets/js/134.9d80de7b.js"><link rel="prefetch" href="/vue-blog/assets/js/135.6770f595.js"><link rel="prefetch" href="/vue-blog/assets/js/136.8c3008c2.js"><link rel="prefetch" href="/vue-blog/assets/js/137.cfabc959.js"><link rel="prefetch" href="/vue-blog/assets/js/138.ecc8f768.js"><link rel="prefetch" href="/vue-blog/assets/js/139.fb09fe72.js"><link rel="prefetch" href="/vue-blog/assets/js/14.4f70094a.js"><link rel="prefetch" href="/vue-blog/assets/js/140.5ee2169f.js"><link rel="prefetch" href="/vue-blog/assets/js/141.d547e896.js"><link rel="prefetch" href="/vue-blog/assets/js/142.b9b11d94.js"><link rel="prefetch" href="/vue-blog/assets/js/143.4c09f5c5.js"><link rel="prefetch" href="/vue-blog/assets/js/144.30ea853f.js"><link rel="prefetch" href="/vue-blog/assets/js/145.b90b26fc.js"><link rel="prefetch" href="/vue-blog/assets/js/146.261eeae4.js"><link rel="prefetch" href="/vue-blog/assets/js/147.c85eab47.js"><link rel="prefetch" href="/vue-blog/assets/js/148.fc987f20.js"><link rel="prefetch" href="/vue-blog/assets/js/149.114de8d8.js"><link rel="prefetch" href="/vue-blog/assets/js/15.66d1a816.js"><link rel="prefetch" href="/vue-blog/assets/js/150.a655952e.js"><link rel="prefetch" href="/vue-blog/assets/js/151.8160f174.js"><link rel="prefetch" href="/vue-blog/assets/js/152.92c8b763.js"><link rel="prefetch" href="/vue-blog/assets/js/153.83a3e3a4.js"><link rel="prefetch" href="/vue-blog/assets/js/154.aa7e1f78.js"><link rel="prefetch" href="/vue-blog/assets/js/155.a693badb.js"><link rel="prefetch" href="/vue-blog/assets/js/156.d5e45196.js"><link rel="prefetch" href="/vue-blog/assets/js/157.b3d210db.js"><link rel="prefetch" href="/vue-blog/assets/js/158.428919b3.js"><link rel="prefetch" href="/vue-blog/assets/js/159.4a356292.js"><link rel="prefetch" href="/vue-blog/assets/js/16.70a134e4.js"><link rel="prefetch" href="/vue-blog/assets/js/160.300170a8.js"><link rel="prefetch" href="/vue-blog/assets/js/161.322533d3.js"><link rel="prefetch" href="/vue-blog/assets/js/162.840efc71.js"><link rel="prefetch" href="/vue-blog/assets/js/163.a86d502f.js"><link rel="prefetch" href="/vue-blog/assets/js/164.df5b5cf4.js"><link rel="prefetch" href="/vue-blog/assets/js/165.bc8fd789.js"><link rel="prefetch" href="/vue-blog/assets/js/166.7165f4b8.js"><link rel="prefetch" href="/vue-blog/assets/js/167.243e8cc8.js"><link rel="prefetch" href="/vue-blog/assets/js/168.9ed9a93e.js"><link rel="prefetch" href="/vue-blog/assets/js/169.921cd403.js"><link rel="prefetch" href="/vue-blog/assets/js/17.1382de84.js"><link rel="prefetch" href="/vue-blog/assets/js/170.4cac267e.js"><link rel="prefetch" href="/vue-blog/assets/js/171.f61a4929.js"><link rel="prefetch" href="/vue-blog/assets/js/172.4ec16b8d.js"><link rel="prefetch" href="/vue-blog/assets/js/173.1c24879b.js"><link rel="prefetch" href="/vue-blog/assets/js/174.43c3c6a1.js"><link rel="prefetch" href="/vue-blog/assets/js/175.82a3fee3.js"><link rel="prefetch" href="/vue-blog/assets/js/176.bf945b96.js"><link rel="prefetch" href="/vue-blog/assets/js/177.3a11e267.js"><link rel="prefetch" href="/vue-blog/assets/js/179.920ace27.js"><link rel="prefetch" href="/vue-blog/assets/js/18.e1eb50b4.js"><link rel="prefetch" href="/vue-blog/assets/js/180.cc259c0b.js"><link rel="prefetch" href="/vue-blog/assets/js/181.3b5b9616.js"><link rel="prefetch" href="/vue-blog/assets/js/182.775b312a.js"><link rel="prefetch" href="/vue-blog/assets/js/183.c0d0c277.js"><link rel="prefetch" href="/vue-blog/assets/js/184.0d0dfa93.js"><link rel="prefetch" href="/vue-blog/assets/js/185.c5d5fc70.js"><link rel="prefetch" href="/vue-blog/assets/js/186.61c7281d.js"><link rel="prefetch" href="/vue-blog/assets/js/187.9d0df972.js"><link rel="prefetch" href="/vue-blog/assets/js/188.a24408cb.js"><link rel="prefetch" href="/vue-blog/assets/js/189.af3e8ff7.js"><link rel="prefetch" href="/vue-blog/assets/js/19.77486248.js"><link rel="prefetch" href="/vue-blog/assets/js/190.aefd1140.js"><link rel="prefetch" href="/vue-blog/assets/js/191.9ba8e4fb.js"><link rel="prefetch" href="/vue-blog/assets/js/192.cf68d570.js"><link rel="prefetch" href="/vue-blog/assets/js/193.7ed07446.js"><link rel="prefetch" href="/vue-blog/assets/js/194.c53004d5.js"><link rel="prefetch" href="/vue-blog/assets/js/195.3b59fc4b.js"><link rel="prefetch" href="/vue-blog/assets/js/196.58ba2536.js"><link rel="prefetch" href="/vue-blog/assets/js/197.ef58074c.js"><link rel="prefetch" href="/vue-blog/assets/js/198.50a04277.js"><link rel="prefetch" href="/vue-blog/assets/js/199.88777870.js"><link rel="prefetch" href="/vue-blog/assets/js/20.b1f9fed9.js"><link rel="prefetch" href="/vue-blog/assets/js/200.7a590444.js"><link rel="prefetch" href="/vue-blog/assets/js/201.c3eedb6a.js"><link rel="prefetch" href="/vue-blog/assets/js/202.84f47672.js"><link rel="prefetch" href="/vue-blog/assets/js/203.9981f177.js"><link rel="prefetch" href="/vue-blog/assets/js/204.b7bfb078.js"><link rel="prefetch" href="/vue-blog/assets/js/205.0ab08f18.js"><link rel="prefetch" href="/vue-blog/assets/js/206.c2b4b419.js"><link rel="prefetch" href="/vue-blog/assets/js/207.bbc5bd93.js"><link rel="prefetch" href="/vue-blog/assets/js/208.e021cd37.js"><link rel="prefetch" href="/vue-blog/assets/js/209.a3402667.js"><link rel="prefetch" href="/vue-blog/assets/js/21.9211cf66.js"><link rel="prefetch" href="/vue-blog/assets/js/210.15ba7955.js"><link rel="prefetch" href="/vue-blog/assets/js/211.62691fee.js"><link rel="prefetch" href="/vue-blog/assets/js/212.4b351a4f.js"><link rel="prefetch" href="/vue-blog/assets/js/213.35646fc2.js"><link rel="prefetch" href="/vue-blog/assets/js/214.0858b62a.js"><link rel="prefetch" href="/vue-blog/assets/js/215.b92a164b.js"><link rel="prefetch" href="/vue-blog/assets/js/216.11060415.js"><link rel="prefetch" href="/vue-blog/assets/js/217.bf78e825.js"><link rel="prefetch" href="/vue-blog/assets/js/218.805e3dd3.js"><link rel="prefetch" href="/vue-blog/assets/js/219.d7169c24.js"><link rel="prefetch" href="/vue-blog/assets/js/22.9b8ab62f.js"><link rel="prefetch" href="/vue-blog/assets/js/220.a4192cde.js"><link rel="prefetch" href="/vue-blog/assets/js/221.bef0e31b.js"><link rel="prefetch" href="/vue-blog/assets/js/222.2e39b442.js"><link rel="prefetch" href="/vue-blog/assets/js/223.ad89280d.js"><link rel="prefetch" href="/vue-blog/assets/js/224.9a431281.js"><link rel="prefetch" href="/vue-blog/assets/js/225.cea195ca.js"><link rel="prefetch" href="/vue-blog/assets/js/226.8e4587f2.js"><link rel="prefetch" href="/vue-blog/assets/js/227.bd14e1d1.js"><link rel="prefetch" href="/vue-blog/assets/js/228.67214331.js"><link rel="prefetch" href="/vue-blog/assets/js/229.cdbb3d8b.js"><link rel="prefetch" href="/vue-blog/assets/js/23.6984103f.js"><link rel="prefetch" href="/vue-blog/assets/js/230.1739de2e.js"><link rel="prefetch" href="/vue-blog/assets/js/231.3beeda13.js"><link rel="prefetch" href="/vue-blog/assets/js/232.76f61dbe.js"><link rel="prefetch" href="/vue-blog/assets/js/233.9e839ed6.js"><link rel="prefetch" href="/vue-blog/assets/js/234.6485adda.js"><link rel="prefetch" href="/vue-blog/assets/js/235.629dcad3.js"><link rel="prefetch" href="/vue-blog/assets/js/236.217a96d4.js"><link rel="prefetch" href="/vue-blog/assets/js/237.fd227c70.js"><link rel="prefetch" href="/vue-blog/assets/js/238.4d312053.js"><link rel="prefetch" href="/vue-blog/assets/js/239.d9b9a0ae.js"><link rel="prefetch" href="/vue-blog/assets/js/24.0c1331e0.js"><link rel="prefetch" href="/vue-blog/assets/js/240.e849620a.js"><link rel="prefetch" href="/vue-blog/assets/js/241.be56b6dd.js"><link rel="prefetch" href="/vue-blog/assets/js/242.50a2af52.js"><link rel="prefetch" href="/vue-blog/assets/js/243.39ec6ef4.js"><link rel="prefetch" href="/vue-blog/assets/js/244.4852cda4.js"><link rel="prefetch" href="/vue-blog/assets/js/245.41634bfa.js"><link rel="prefetch" href="/vue-blog/assets/js/246.198603e0.js"><link rel="prefetch" href="/vue-blog/assets/js/247.328599fa.js"><link rel="prefetch" href="/vue-blog/assets/js/248.f2bb95f6.js"><link rel="prefetch" href="/vue-blog/assets/js/249.f20ce750.js"><link rel="prefetch" href="/vue-blog/assets/js/25.eddfc3cf.js"><link rel="prefetch" href="/vue-blog/assets/js/250.a7ca50f0.js"><link rel="prefetch" href="/vue-blog/assets/js/251.b0535c5f.js"><link rel="prefetch" href="/vue-blog/assets/js/252.0a83d714.js"><link rel="prefetch" href="/vue-blog/assets/js/253.5e65c80e.js"><link rel="prefetch" href="/vue-blog/assets/js/254.2e314141.js"><link rel="prefetch" href="/vue-blog/assets/js/255.3a340878.js"><link rel="prefetch" href="/vue-blog/assets/js/256.fc09c246.js"><link rel="prefetch" href="/vue-blog/assets/js/257.d4520721.js"><link rel="prefetch" href="/vue-blog/assets/js/258.588832dd.js"><link rel="prefetch" href="/vue-blog/assets/js/259.75c7103b.js"><link rel="prefetch" href="/vue-blog/assets/js/26.75c59681.js"><link rel="prefetch" href="/vue-blog/assets/js/260.d834f22d.js"><link rel="prefetch" href="/vue-blog/assets/js/261.67ef6123.js"><link rel="prefetch" href="/vue-blog/assets/js/262.b85b1751.js"><link rel="prefetch" href="/vue-blog/assets/js/263.a16eec63.js"><link rel="prefetch" href="/vue-blog/assets/js/264.d7221353.js"><link rel="prefetch" href="/vue-blog/assets/js/265.92f5c6c2.js"><link rel="prefetch" href="/vue-blog/assets/js/266.185cfbf1.js"><link rel="prefetch" href="/vue-blog/assets/js/267.fcf4dd24.js"><link rel="prefetch" href="/vue-blog/assets/js/268.1beb2810.js"><link rel="prefetch" href="/vue-blog/assets/js/269.ce41ac38.js"><link rel="prefetch" href="/vue-blog/assets/js/27.142f0040.js"><link rel="prefetch" href="/vue-blog/assets/js/270.ccceb3a0.js"><link rel="prefetch" href="/vue-blog/assets/js/271.d140c37e.js"><link rel="prefetch" href="/vue-blog/assets/js/272.2b714246.js"><link rel="prefetch" href="/vue-blog/assets/js/273.aa442ce2.js"><link rel="prefetch" href="/vue-blog/assets/js/274.190df847.js"><link rel="prefetch" href="/vue-blog/assets/js/275.edae0ad3.js"><link rel="prefetch" href="/vue-blog/assets/js/276.682dfbbb.js"><link rel="prefetch" href="/vue-blog/assets/js/277.a9accd4c.js"><link rel="prefetch" href="/vue-blog/assets/js/28.f1c65444.js"><link rel="prefetch" href="/vue-blog/assets/js/29.97c00b20.js"><link rel="prefetch" href="/vue-blog/assets/js/30.c5a0fdc6.js"><link rel="prefetch" href="/vue-blog/assets/js/31.f2ab80bf.js"><link rel="prefetch" href="/vue-blog/assets/js/32.e037e75b.js"><link rel="prefetch" href="/vue-blog/assets/js/33.9426bbd7.js"><link rel="prefetch" href="/vue-blog/assets/js/34.e1a75921.js"><link rel="prefetch" href="/vue-blog/assets/js/35.0a260607.js"><link rel="prefetch" href="/vue-blog/assets/js/36.c61cd8a1.js"><link rel="prefetch" href="/vue-blog/assets/js/37.aa17976f.js"><link rel="prefetch" href="/vue-blog/assets/js/38.2aea9580.js"><link rel="prefetch" href="/vue-blog/assets/js/39.6023ccc6.js"><link rel="prefetch" href="/vue-blog/assets/js/40.e2cfc5e3.js"><link rel="prefetch" href="/vue-blog/assets/js/41.2a346baf.js"><link rel="prefetch" href="/vue-blog/assets/js/42.c7be79b0.js"><link rel="prefetch" href="/vue-blog/assets/js/43.0e063f36.js"><link rel="prefetch" href="/vue-blog/assets/js/44.175eadca.js"><link rel="prefetch" href="/vue-blog/assets/js/45.a1e233be.js"><link rel="prefetch" href="/vue-blog/assets/js/46.cd819bb4.js"><link rel="prefetch" href="/vue-blog/assets/js/47.0fc3669f.js"><link rel="prefetch" href="/vue-blog/assets/js/48.07f47a58.js"><link rel="prefetch" href="/vue-blog/assets/js/49.d8393174.js"><link rel="prefetch" href="/vue-blog/assets/js/5.dd49d6e7.js"><link rel="prefetch" href="/vue-blog/assets/js/50.894e3abe.js"><link rel="prefetch" href="/vue-blog/assets/js/51.ac393080.js"><link rel="prefetch" href="/vue-blog/assets/js/52.a9d521e5.js"><link rel="prefetch" href="/vue-blog/assets/js/53.aa1bac24.js"><link rel="prefetch" href="/vue-blog/assets/js/54.94a68db7.js"><link rel="prefetch" href="/vue-blog/assets/js/55.bc4b4833.js"><link rel="prefetch" href="/vue-blog/assets/js/56.182b2c4a.js"><link rel="prefetch" href="/vue-blog/assets/js/57.7d719313.js"><link rel="prefetch" href="/vue-blog/assets/js/58.5350fdbc.js"><link rel="prefetch" href="/vue-blog/assets/js/59.12640bf0.js"><link rel="prefetch" href="/vue-blog/assets/js/6.6c305b86.js"><link rel="prefetch" href="/vue-blog/assets/js/60.7a14fa5a.js"><link rel="prefetch" href="/vue-blog/assets/js/61.9498c4b8.js"><link rel="prefetch" href="/vue-blog/assets/js/62.9f9713ea.js"><link rel="prefetch" href="/vue-blog/assets/js/63.47f18eaa.js"><link rel="prefetch" href="/vue-blog/assets/js/64.c1b212c5.js"><link rel="prefetch" href="/vue-blog/assets/js/65.f6a411df.js"><link rel="prefetch" href="/vue-blog/assets/js/66.d99b711d.js"><link rel="prefetch" href="/vue-blog/assets/js/67.e12b3562.js"><link rel="prefetch" href="/vue-blog/assets/js/68.39da4fcb.js"><link rel="prefetch" href="/vue-blog/assets/js/69.242b1ccb.js"><link rel="prefetch" href="/vue-blog/assets/js/7.309b7951.js"><link rel="prefetch" href="/vue-blog/assets/js/70.155ce70b.js"><link rel="prefetch" href="/vue-blog/assets/js/71.fef86de9.js"><link rel="prefetch" href="/vue-blog/assets/js/72.7165c1fb.js"><link rel="prefetch" href="/vue-blog/assets/js/73.2865bf05.js"><link rel="prefetch" href="/vue-blog/assets/js/74.96f29169.js"><link rel="prefetch" href="/vue-blog/assets/js/75.ebbdbc56.js"><link rel="prefetch" href="/vue-blog/assets/js/76.f7aedec0.js"><link rel="prefetch" href="/vue-blog/assets/js/77.961a0f44.js"><link rel="prefetch" href="/vue-blog/assets/js/78.64c54114.js"><link rel="prefetch" href="/vue-blog/assets/js/79.e52251f0.js"><link rel="prefetch" href="/vue-blog/assets/js/8.a59960f9.js"><link rel="prefetch" href="/vue-blog/assets/js/80.f5a4014d.js"><link rel="prefetch" href="/vue-blog/assets/js/81.00edaa87.js"><link rel="prefetch" href="/vue-blog/assets/js/82.ac9c6298.js"><link rel="prefetch" href="/vue-blog/assets/js/83.a8149eb7.js"><link rel="prefetch" href="/vue-blog/assets/js/84.d8cb322a.js"><link rel="prefetch" href="/vue-blog/assets/js/85.09369a1f.js"><link rel="prefetch" href="/vue-blog/assets/js/86.27714b75.js"><link rel="prefetch" href="/vue-blog/assets/js/87.2b204479.js"><link rel="prefetch" href="/vue-blog/assets/js/88.5d98c9dc.js"><link rel="prefetch" href="/vue-blog/assets/js/89.a93b1c7b.js"><link rel="prefetch" href="/vue-blog/assets/js/9.db5f1d69.js"><link rel="prefetch" href="/vue-blog/assets/js/90.d97578bc.js"><link rel="prefetch" href="/vue-blog/assets/js/91.cc71b6ee.js"><link rel="prefetch" href="/vue-blog/assets/js/92.3925927e.js"><link rel="prefetch" href="/vue-blog/assets/js/93.e288a587.js"><link rel="prefetch" href="/vue-blog/assets/js/94.73c1bc9b.js"><link rel="prefetch" href="/vue-blog/assets/js/95.f13d281f.js"><link rel="prefetch" href="/vue-blog/assets/js/96.b31d7be2.js"><link rel="prefetch" href="/vue-blog/assets/js/97.6f4e4b0f.js"><link rel="prefetch" href="/vue-blog/assets/js/98.e66a887d.js"><link rel="prefetch" href="/vue-blog/assets/js/99.be6e5c05.js"><link rel="prefetch" href="/vue-blog/assets/js/vendors~flowchart.be04a989.js">
    <link rel="stylesheet" href="/vue-blog/assets/css/0.styles.92d18fa1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>wxvirus</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>纯粹的浪荡人士与抱定决心干大事的人，面相是截然不同的。</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>无解</span>
            
          <span data-v-4e82dffc>2020 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-blog/" class="home-link router-link-active"><!----> <span class="site-name">wxvirus</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue-blog/categories/Go-core/" class="nav-link"><i class="undefined"></i>
  Go-core
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/algorithm/" class="nav-link"><i class="undefined"></i>
  algorithm
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/architecture/" class="nav-link"><i class="undefined"></i>
  architecture
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/c/" class="nav-link"><i class="undefined"></i>
  c
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/demo/" class="nav-link"><i class="undefined"></i>
  demo
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/dubbo/" class="nav-link"><i class="undefined"></i>
  dubbo
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/designer/" class="nav-link"><i class="undefined"></i>
  designer
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/datastruct/" class="nav-link"><i class="undefined"></i>
  datastruct
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/front/" class="nav-link"><i class="undefined"></i>
  front
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/go-zero/" class="nav-link"><i class="undefined"></i>
  go-zero
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/go/" class="nav-link"><i class="undefined"></i>
  go
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/k8s/" class="nav-link"><i class="undefined"></i>
  k8s
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/memory/" class="nav-link"><i class="undefined"></i>
  memory
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/mybatis/" class="nav-link"><i class="undefined"></i>
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/net/" class="nav-link"><i class="undefined"></i>
  net
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/note/" class="nav-link"><i class="undefined"></i>
  note
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/php/" class="nav-link"><i class="undefined"></i>
  php
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/spring/" class="nav-link"><i class="undefined"></i>
  spring
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/springboot/" class="nav-link"><i class="undefined"></i>
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/tools/" class="nav-link"><i class="undefined"></i>
  tools
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/vue3/" class="nav-link"><i class="undefined"></i>
  vue3
</a></li></ul></div></div><div class="nav-item"><a href="/vue-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/vue-blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/vue-blog/about/" class="nav-link"><i class="iconfont reco-message"></i>
  关于我
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-menu"></i>
      快速访问🎈
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://leetcode-cn.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  LeetCode
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Vue.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.oracle.com/javase/8/docs/api/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Java SE API Documentation
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://spring.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Spring
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://stackoverflow.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Stackoverflow
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.linuxcool.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Linux命令大全
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/sword-demon/vue-blog" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/vue-blog/logo.jpg" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    无解
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>266</h3> <h6 data-v-828910c6>Articles</h6></div> <div data-v-828910c6><h3 data-v-828910c6>68</h3> <h6 data-v-828910c6>Tags</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/vue-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue-blog/categories/Go-core/" class="nav-link"><i class="undefined"></i>
  Go-core
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/algorithm/" class="nav-link"><i class="undefined"></i>
  algorithm
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/architecture/" class="nav-link"><i class="undefined"></i>
  architecture
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/c/" class="nav-link"><i class="undefined"></i>
  c
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/demo/" class="nav-link"><i class="undefined"></i>
  demo
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/dubbo/" class="nav-link"><i class="undefined"></i>
  dubbo
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/designer/" class="nav-link"><i class="undefined"></i>
  designer
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/datastruct/" class="nav-link"><i class="undefined"></i>
  datastruct
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/front/" class="nav-link"><i class="undefined"></i>
  front
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/go-zero/" class="nav-link"><i class="undefined"></i>
  go-zero
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/go/" class="nav-link"><i class="undefined"></i>
  go
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/k8s/" class="nav-link"><i class="undefined"></i>
  k8s
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/memory/" class="nav-link"><i class="undefined"></i>
  memory
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/mybatis/" class="nav-link"><i class="undefined"></i>
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/net/" class="nav-link"><i class="undefined"></i>
  net
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/note/" class="nav-link"><i class="undefined"></i>
  note
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/php/" class="nav-link"><i class="undefined"></i>
  php
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/spring/" class="nav-link"><i class="undefined"></i>
  spring
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/springboot/" class="nav-link"><i class="undefined"></i>
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/tools/" class="nav-link"><i class="undefined"></i>
  tools
</a></li><li class="dropdown-item"><!----> <a href="/vue-blog/categories/vue3/" class="nav-link"><i class="undefined"></i>
  vue3
</a></li></ul></div></div><div class="nav-item"><a href="/vue-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/vue-blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/vue-blog/about/" class="nav-link"><i class="iconfont reco-message"></i>
  关于我
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-menu"></i>
      快速访问🎈
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://leetcode-cn.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  LeetCode
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Vue.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.oracle.com/javase/8/docs/api/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Java SE API Documentation
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://spring.io/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Spring
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://stackoverflow.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Stackoverflow
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.linuxcool.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Linux命令大全
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/sword-demon/vue-blog" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>net</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-blog/net/go-tcp/" class="sidebar-link">Go实现TCP通信</a></li><li><a href="/vue-blog/net/ipv4tcpclient/" class="sidebar-link">IPV4 TCP套接字服务端</a></li><li><a href="/vue-blog/net/ipv4tcp/" class="sidebar-link">IPV4 TCP套接字服务端</a></li><li><a href="/vue-blog/net/ipv4udpserver/" class="sidebar-link">IPV4 UDP</a></li><li><a href="/vue-blog/net/steam_socket/" class="sidebar-link">Steam socket api函数</a></li><li><a href="/vue-blog/net/unix_tcp/" class="sidebar-link">UNIX TCP</a></li><li><a href="/vue-blog/net/unix_udp/" class="sidebar-link">UNIX UDP</a></li><li><a href="/vue-blog/net/desc/" aria-current="page" class="active sidebar-link">网络编程概述</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>网络编程概述</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>无解</span>
            
          <span data-v-4e82dffc>2020 - </span>
          2022
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">网络编程概述</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>无解</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>4/3/2022</span></i> <i class="iconfont reco-eye" data-v-1ff7123e><span id="/vue-blog/net/desc/" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-1ff7123e><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e></span></i></div></div> <div class="theme-reco-content content__default"><h2 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h2> <blockquote><p>编写的网络应用程序以<code>Socket API</code>来实现，变成语言虽然各不相同，但系统调用API完全一致，可以通过<code>Strace</code>工具跟踪系统调用。</p></blockquote> <div class="language-mermaid line-numbers-mode"><pre class="language-mermaid"><code><span class="token keyword">flowchart</span> TB
	<span class="token keyword">subgraph</span> A<span class="token text string">[应用层 用户空间]</span>
		HTTP/DNS/TELNMET/PING/WEBSOCKET/MQTT/XMAPP/RMPT...
	<span class="token keyword">end</span>
	<span class="token keyword">subgraph</span> B<span class="token text string">[内核空间]</span>
    	C<span class="token text string">[传输层TCP/UDP]</span>
    	D<span class="token text string">[网络层IP/ICMP]</span>
    	E<span class="token text string">[数据链路层ARP/RARP]</span>
    <span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>操作系统以系统调用<code>Socket API</code>网络接口提供给引用层的程序。</p> <ul><li><p>数据链路层/ARP/RAPP：主要完成IP地址和物理MAC地址转换</p> <blockquote><p>ARP请求：数据链路层接收到上层传递进来的数据，首先先拿到IP，再使用ARP程序发起一个请求，它会把对方IP和自己的IP，自己的物理地址MAC进行封装，封装后发送出去。</p></blockquote> <blockquote><p>ARP响应：网络上的主机接收到ARP请求时，会判断IP是不是自己，然后进行响应，把自己的IP，MAC发送给对方(网卡来发送)</p></blockquote> <p>然后再把数据，MAC地址进行封装为数据帧<code>frame</code>：目的物理地址、源物理地址、数据。。。</p> <p>MAC物理地址一般存储再网卡的存储器里。</p></li> <li><p>网络层IP、ICMP：主要就是数据的选路和转发</p> <p>ICMP：网络运维人员经常使用<code>ping,iptables</code>等配置</p> <p>接收数据时：它会进行判断，数据是不是发给自己的，</p> <ul><li>如果是发给自己的，会传递到传输层，最终传递到应用层的某个具体进程【进程具有读写能力(接收数据和发送数据)】</li> <li>如果不是发给自己时：它会进行转发</li></ul> <p>发送数据时：它会进行封装为IP数据包，发送到传输层</p></li> <li><p>传输层</p> <p>TCP/UPD</p> <p>TCP: 基于流<code>Stream</code>的服务，字节流；特点：要进行连接才能通信，必须是全双工(双方都连接响应成功)，有序的、可靠的(有超时重传)。应用程序在收发数据时，需要自己去判断数据的边界，因为它像水一样没有边界【会涉及到数据粘包、少包的问题】</p> <p>UDP：数据报服务，传输数据是固定的，但是不可靠的，<strong>发送方发送一次，接收方必须及时接收，否则数据丢弃</strong></p></li> <li><p>应用层在实现的时候是调用下层提供的接口，准确来说是使用操作系统提供的使用函数：<code>socket api</code>；应用层在实现的时候，编程语言各不相同，写法也不一样，但是底层调用的函数是一样的。</p> <ul><li><p>应用层的数据经过层层封装，经过TCP协议层封装时为<code>TCP报文段</code>，经过网络层变成<code>IP数据段</code>，到达数据链路层变成数据帧<code>frame</code>；</p></li> <li><p>接收数据的时候同样要经过每一层的处理</p></li></ul></li></ul> <p>​</p> <h2 id="使用命令来观察报文"><a href="#使用命令来观察报文" class="header-anchor">#</a> 使用命令来观察报文</h2> <blockquote><p>可以使用<code>tcpdump</code>来抓包来查看数据经过TCP封装的报文观察</p></blockquote> <p>服务端代码案例：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token comment">// 创建有一个socket文件描述符</span>
<span class="token variable">$server</span> <span class="token operator">=</span> <span class="token function">socket_create</span><span class="token punctuation">(</span><span class="token constant">AF_INET</span><span class="token punctuation">,</span> <span class="token constant">SOCK_STREAM</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 绑定ip和端口</span>
<span class="token function">socket_bind</span><span class="token punctuation">(</span><span class="token variable">$server</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;0.0.0.0&quot;</span><span class="token punctuation">,</span> <span class="token number">1234</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 监听内核等待队列5个</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">socket_listen</span><span class="token punctuation">(</span><span class="token variable">$server</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">STDOUT</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;listen ok: on 1234&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 阻塞接收客户端连接</span>
<span class="token variable">$connfd</span> <span class="token operator">=</span> <span class="token function">socket_accept</span><span class="token punctuation">(</span><span class="token variable">$server</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 数据读写</span>
<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;recv: &quot;</span><span class="token operator">.</span><span class="token function">socket_read</span><span class="token punctuation">(</span><span class="token variable">$connfd</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;write len: &quot;</span><span class="token operator">.</span><span class="token function">socket_write</span><span class="token punctuation">(</span><span class="token variable">$connfd</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;hi&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">socket_close</span><span class="token punctuation">(</span><span class="token variable">$server</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">socket_close</span><span class="token punctuation">(</span><span class="token variable">$connfd</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>客户端代码：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$client</span> <span class="token operator">=</span> <span class="token function">socket_create</span><span class="token punctuation">(</span><span class="token constant">AF_INET</span><span class="token punctuation">,</span> <span class="token constant">SOCK_STREAM</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">socket_connect</span><span class="token punctuation">(</span><span class="token variable">$client</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;1234&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;write len:&quot;</span><span class="token operator">.</span><span class="token function">socket_write</span><span class="token punctuation">(</span><span class="token variable">$client</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;client&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;recv from server1: &quot;</span><span class="token operator">.</span><span class="token function">socket_read</span><span class="token punctuation">(</span><span class="token variable">$client</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">socket_close</span><span class="token punctuation">(</span><span class="token variable">$client</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>我们将服务代码运行起来：<code>php server1.php</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@jb51 process<span class="token punctuation">]</span><span class="token comment"># php server1.php </span>
listen ok: on <span class="token number">1234</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用命令：<code>netstat -luntp</code>来查看监听的端口</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>root@jb51 process<span class="token punctuation">]</span><span class="token comment"># netstat -luntp</span>
Active Internet connections <span class="token punctuation">(</span>only servers<span class="token punctuation">)</span>
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:1234            <span class="token number">0.0</span>.0.0:*               LISTEN 
<span class="token number">6828</span>/php
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>使用<code>tcpdump</code>命令来监听</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@jb51 process<span class="token punctuation">]</span><span class="token comment"># tcpdump -X -AAA -i eth0 port 1234</span>
tcpdump: verbose output suppressed, use -v or -vv <span class="token keyword">for</span> full protocol decode
listening on eth0, link-type EN10MB <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>, capture size <span class="token number">262144</span> bytes

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><code>eth0</code>是网卡，可以通过<code>ifconfig</code>去查看</li></ul> <p>最后我们在客户端执行客户端代码</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@jb51 process<span class="token punctuation">]</span><span class="token comment"># /usr/bin/php client1.php </span>
<span class="token function">write</span> len:5recv from server1: hi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>服务端响应内容：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@jb51 process<span class="token punctuation">]</span><span class="token comment"># php server1.php </span>
listen ok: on 1234recv: clienwrite len: <span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>tcpdump</code>监听报文内容</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@jb51 process<span class="token punctuation">]</span><span class="token comment"># tcpdump -X -AAA -i eth0 port 1234</span>
tcpdump: verbose output suppressed, use -v or -vv <span class="token keyword">for</span> full protocol decode
listening on eth0, link-type EN10MB <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>, capture size <span class="token number">262144</span> bytes
<span class="token number">21</span>:31:54.825669 IP jb51.net.http <span class="token operator">&gt;</span> <span class="token number">103.142</span>.100.9.search-agent: Flags <span class="token punctuation">[</span>S.<span class="token punctuation">]</span>, <span class="token function">seq</span> <span class="token number">2011740119</span>, ack <span class="token number">1598462250</span>, win <span class="token number">29200</span>, options <span class="token punctuation">[</span>mss <span class="token number">1460</span>,nop,nop,sackOK<span class="token punctuation">]</span>, length <span class="token number">0</span>
        0x0000:  <span class="token number">4500</span> 0030 0000 <span class="token number">4000</span> <span class="token number">4006</span> 552d 0a00 <span class="token number">1004</span>  E<span class="token punctuation">..</span><span class="token number">0</span><span class="token punctuation">..</span>@.@.U-<span class="token punctuation">..</span><span class="token punctuation">..</span>
        0x0010:  678e <span class="token number">6409</span> 0050 04d2 77e8 b7d7 5f46 992a  g.d<span class="token punctuation">..</span>P<span class="token punctuation">..</span>w<span class="token punctuation">..</span>._F.*
        0x0020:  <span class="token number">7012</span> <span class="token number">7210</span> fe10 0000 0204 05b4 0101 0402  p.r<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
<span class="token number">21</span>:32:03.025658 IP jb51.net.http <span class="token operator">&gt;</span> <span class="token number">103.142</span>.100.9.search-agent: Flags <span class="token punctuation">[</span>S.<span class="token punctuation">]</span>, <span class="token function">seq</span> <span class="token number">2011740119</span>, ack <span class="token number">1598462250</span>, win <span class="token number">29200</span>, options <span class="token punctuation">[</span>mss <span class="token number">1460</span>,nop,nop,sackOK<span class="token punctuation">]</span>, length <span class="token number">0</span>
        0x0000:  <span class="token number">4500</span> 0030 0000 <span class="token number">4000</span> <span class="token number">4006</span> 552d 0a00 <span class="token number">1004</span>  E<span class="token punctuation">..</span><span class="token number">0</span><span class="token punctuation">..</span>@.@.U-<span class="token punctuation">..</span><span class="token punctuation">..</span>
        0x0010:  678e <span class="token number">6409</span> 0050 04d2 77e8 b7d7 5f46 992a  g.d<span class="token punctuation">..</span>P<span class="token punctuation">..</span>w<span class="token punctuation">..</span>._F.*
        0x0020:  <span class="token number">7012</span> <span class="token number">7210</span> fe10 0000 0204 05b4 0101 0402  p.r<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
<span class="token number">21</span>:32:19.025689 IP jb51.net.http <span class="token operator">&gt;</span> <span class="token number">103.142</span>.100.9.search-agent: Flags <span class="token punctuation">[</span>S.<span class="token punctuation">]</span>, <span class="token function">seq</span> <span class="token number">2011740119</span>, ack <span class="token number">1598462250</span>, win <span class="token number">29200</span>, options <span class="token punctuation">[</span>mss <span class="token number">1460</span>,nop,nop,sackOK<span class="token punctuation">]</span>, length <span class="token number">0</span>
        0x0000:  <span class="token number">4500</span> 0030 0000 <span class="token number">4000</span> <span class="token number">4006</span> 552d 0a00 <span class="token number">1004</span>  E<span class="token punctuation">..</span><span class="token number">0</span><span class="token punctuation">..</span>@.@.U-<span class="token punctuation">..</span><span class="token punctuation">..</span>
        0x0010:  678e <span class="token number">6409</span> 0050 04d2 77e8 b7d7 5f46 992a  g.d<span class="token punctuation">..</span>P<span class="token punctuation">..</span>w<span class="token punctuation">..</span>._F.*
        0x0020:  <span class="token number">7012</span> <span class="token number">7210</span> fe10 0000 0204 05b4 0101 0402  p.r<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>eth0监听这个网卡</li> <li>Ethernet以太网数据帧</li> <li>21:31:54：当前时间</li> <li>IP后面是客户端IP</li> <li>103.142.100.9.search-agent: <code>hostnamectl</code>里的对应的你这台主机</li> <li>Flags [S.]：TCP报文的一个标志，S：SYN，是一个同步报文，可以认为是一个连接报文</li> <li>seq 2011740119：ISN序号值</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>IP jb51.net.http &gt; 103.142.100.9.search-agent: Flags [S.], seq 2011740119, ack 1598462250, win 29200, options [mss 1460,nop,nop,sackOK], length 0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下面一个</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>IP jb51.net.http &gt; 103.142.100.9.search-agent: Flags [S.], seq 2011740119, ack 1598462250, win 29200, options [mss 1460,nop,nop,sackOK], length 0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <p>上面的先暂时放下，因为遇到了一个问题：</p> <div class="custom-block tip"><p class="title">关于抓取不到包的问题</p><p><code>eth0</code>是一般用于以太网的接口，<code>lo</code>是指本地回环接口，第一次使用没有抓不到准确的数据包的原因是：本地回环不经过以太网卡，所以现在换成使用<code>-i lo</code>来抓取本地回环数据</p></div><p>现在我重新换了一个<code>1235</code>的端口</p> <details class="custom-block details"><summary>查看内容</summary> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@jb51 process<span class="token punctuation">]</span><span class="token comment"># tcpdump -X -AAA -i lo port 1235</span>
tcpdump: verbose output suppressed, use -v or -vv <span class="token keyword">for</span> full protocol decode
listening on lo, link-type EN10MB <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>, capture size <span class="token number">262144</span> bytes
<span class="token number">22</span>:23:41.475469 IP VM-16-4-centos.48994 <span class="token operator">&gt;</span> VM-16-4-centos.mosaicsyssvc1: Flags <span class="token punctuation">[</span>S<span class="token punctuation">]</span>, <span class="token function">seq</span> <span class="token number">714256101</span>, win <span class="token number">43690</span>, options <span class="token punctuation">[</span>mss <span class="token number">65495</span>,sackOK,TS val <span class="token number">4174891569</span> ecr <span class="token number">0</span>,nop,wscale <span class="token number">7</span><span class="token punctuation">]</span>, length <span class="token number">0</span>
        0x0000:  <span class="token number">4500</span> 003c 64d4 <span class="token number">4000</span> <span class="token number">4006</span> d7e5 7f00 0001  E<span class="token punctuation">..</span><span class="token operator">&lt;</span>d.@.@<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
        0x0010:  7f00 0001 bf62 04d3 2a92 aee5 0000 0000  <span class="token punctuation">..</span><span class="token punctuation">..</span>.b<span class="token punctuation">..</span>*<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
        0x0020:  a002 aaaa fe30 0000 0204 ffd7 0402 080a  <span class="token punctuation">..</span><span class="token punctuation">..</span>.0<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
        0x0030:  f8d7 ca31 0000 0000 0103 0307            <span class="token punctuation">..</span>.1<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
<span class="token number">22</span>:23:41.475494 IP VM-16-4-centos.mosaicsyssvc1 <span class="token operator">&gt;</span> VM-16-4-centos.48994: Flags <span class="token punctuation">[</span>S.<span class="token punctuation">]</span>, <span class="token function">seq</span> <span class="token number">877540770</span>, ack <span class="token number">714256102</span>, win <span class="token number">43690</span>, options <span class="token punctuation">[</span>mss <span class="token number">65495</span>,sackOK,TS val <span class="token number">4174891569</span> ecr <span class="token number">4174891569</span>,nop,wscale <span class="token number">7</span><span class="token punctuation">]</span>, length <span class="token number">0</span>
        0x0000:  <span class="token number">4500</span> 003c 0000 <span class="token number">4000</span> <span class="token number">4006</span> 3cba 7f00 0001  E<span class="token punctuation">..</span><span class="token operator">&lt;</span><span class="token punctuation">..</span>@.@.<span class="token operator">&lt;</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
        0x0010:  7f00 0001 04d3 bf62 344e 35a2 2a92 aee6  <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.b4N5.*<span class="token punctuation">..</span>.
        0x0020:  a012 aaaa fe30 0000 0204 ffd7 0402 080a  <span class="token punctuation">..</span><span class="token punctuation">..</span>.0<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
        0x0030:  f8d7 ca31 f8d7 ca31 0103 0307            <span class="token punctuation">..</span>.1<span class="token punctuation">..</span>.1<span class="token punctuation">..</span><span class="token punctuation">..</span>
<span class="token number">22</span>:23:41.475512 IP VM-16-4-centos.48994 <span class="token operator">&gt;</span> VM-16-4-centos.mosaicsyssvc1: Flags <span class="token punctuation">[</span>.<span class="token punctuation">]</span>, ack <span class="token number">1</span>, win <span class="token number">342</span>, options <span class="token punctuation">[</span>nop,nop,TS val <span class="token number">4174891569</span> ecr <span class="token number">4174891569</span><span class="token punctuation">]</span>, length <span class="token number">0</span>
        0x0000:  <span class="token number">4500</span> 0034 64d5 <span class="token number">4000</span> <span class="token number">4006</span> d7ec 7f00 0001  E<span class="token punctuation">..</span>4d.@.@<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
        0x0010:  7f00 0001 bf62 04d3 2a92 aee6 344e 35a3  <span class="token punctuation">..</span><span class="token punctuation">..</span>.b<span class="token punctuation">..</span>*<span class="token punctuation">..</span>.4N5.
        0x0020:  <span class="token number">8010</span> 0156 fe28 0000 0101 080a f8d7 ca31  <span class="token punctuation">..</span>.V.<span class="token punctuation">(</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.1
        0x0030:  f8d7 ca31                                <span class="token punctuation">..</span>.1
<span class="token number">22</span>:23:41.476100 IP VM-16-4-centos.48994 <span class="token operator">&gt;</span> VM-16-4-centos.mosaicsyssvc1: Flags <span class="token punctuation">[</span>P.<span class="token punctuation">]</span>, <span class="token function">seq</span> <span class="token number">1</span>:6, ack <span class="token number">1</span>, win <span class="token number">342</span>, options <span class="token punctuation">[</span>nop,nop,TS val <span class="token number">4174891570</span> ecr <span class="token number">4174891569</span><span class="token punctuation">]</span>, length <span class="token number">5</span>
        0x0000:  <span class="token number">4500</span> 0039 64d6 <span class="token number">4000</span> <span class="token number">4006</span> d7e6 7f00 0001  E<span class="token punctuation">..</span>9d.@.@<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
        0x0010:  7f00 0001 bf62 04d3 2a92 aee6 344e 35a3  <span class="token punctuation">..</span><span class="token punctuation">..</span>.b<span class="token punctuation">..</span>*<span class="token punctuation">..</span>.4N5.
        0x0020:  <span class="token number">8018</span> 0156 fe2d 0000 0101 080a f8d7 ca32  <span class="token punctuation">..</span>.V.-<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.2
        0x0030:  f8d7 ca31 636c <span class="token number">6965</span> 6e                   <span class="token punctuation">..</span>.1clien
<span class="token number">22</span>:23:41.476157 IP VM-16-4-centos.mosaicsyssvc1 <span class="token operator">&gt;</span> VM-16-4-centos.48994: Flags <span class="token punctuation">[</span>.<span class="token punctuation">]</span>, ack <span class="token number">6</span>, win <span class="token number">342</span>, options <span class="token punctuation">[</span>nop,nop,TS val <span class="token number">4174891570</span> ecr <span class="token number">4174891570</span><span class="token punctuation">]</span>, length <span class="token number">0</span>
        0x0000:  <span class="token number">4500</span> 0034 ff92 <span class="token number">4000</span> <span class="token number">4006</span> 3d2f 7f00 0001  E<span class="token punctuation">..</span><span class="token number">4</span><span class="token punctuation">..</span>@.@.<span class="token operator">=</span>/<span class="token punctuation">..</span><span class="token punctuation">..</span>
        0x0010:  7f00 0001 04d3 bf62 344e 35a3 2a92 aeeb  <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.b4N5.*<span class="token punctuation">..</span>.
        0x0020:  <span class="token number">8010</span> 0156 fe28 0000 0101 080a f8d7 ca32  <span class="token punctuation">..</span>.V.<span class="token punctuation">(</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.2
        0x0030:  f8d7 ca32                                <span class="token punctuation">..</span>.2
<span class="token number">22</span>:23:41.476198 IP VM-16-4-centos.mosaicsyssvc1 <span class="token operator">&gt;</span> VM-16-4-centos.48994: Flags <span class="token punctuation">[</span>P.<span class="token punctuation">]</span>, <span class="token function">seq</span> <span class="token number">1</span>:3, ack <span class="token number">6</span>, win <span class="token number">342</span>, options <span class="token punctuation">[</span>nop,nop,TS val <span class="token number">4174891570</span> ecr <span class="token number">4174891570</span><span class="token punctuation">]</span>, length <span class="token number">2</span>
        0x0000:  <span class="token number">4500</span> 0036 ff93 <span class="token number">4000</span> <span class="token number">4006</span> 3d2c 7f00 0001  E<span class="token punctuation">..</span><span class="token number">6</span><span class="token punctuation">..</span>@.@.<span class="token operator">=</span>,<span class="token punctuation">..</span><span class="token punctuation">..</span>
        0x0010:  7f00 0001 04d3 bf62 344e 35a3 2a92 aeeb  <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.b4N5.*<span class="token punctuation">..</span>.
        0x0020:  <span class="token number">8018</span> 0156 fe2a 0000 0101 080a f8d7 ca32  <span class="token punctuation">..</span>.V.*<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.2
        0x0030:  f8d7 ca32 <span class="token number">6869</span>                           <span class="token punctuation">..</span>.2hi
<span class="token number">22</span>:23:41.476237 IP VM-16-4-centos.mosaicsyssvc1 <span class="token operator">&gt;</span> VM-16-4-centos.48994: Flags <span class="token punctuation">[</span>F.<span class="token punctuation">]</span>, <span class="token function">seq</span> <span class="token number">3</span>, ack <span class="token number">6</span>, win <span class="token number">342</span>, options <span class="token punctuation">[</span>nop,nop,TS val <span class="token number">4174891570</span> ecr <span class="token number">4174891570</span><span class="token punctuation">]</span>, length <span class="token number">0</span>
        0x0000:  <span class="token number">4500</span> 0034 ff94 <span class="token number">4000</span> <span class="token number">4006</span> 3d2d 7f00 0001  E<span class="token punctuation">..</span><span class="token number">4</span><span class="token punctuation">..</span>@.@.<span class="token operator">=</span>-<span class="token punctuation">..</span><span class="token punctuation">..</span>
        0x0010:  7f00 0001 04d3 bf62 344e 35a5 2a92 aeeb  <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.b4N5.*<span class="token punctuation">..</span>.
        0x0020:  <span class="token number">8011</span> 0156 fe28 0000 0101 080a f8d7 ca32  <span class="token punctuation">..</span>.V.<span class="token punctuation">(</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.2
        0x0030:  f8d7 ca32                                <span class="token punctuation">..</span>.2
<span class="token number">22</span>:23:41.482154 IP VM-16-4-centos.48994 <span class="token operator">&gt;</span> VM-16-4-centos.mosaicsyssvc1: Flags <span class="token punctuation">[</span>.<span class="token punctuation">]</span>, ack <span class="token number">3</span>, win <span class="token number">342</span>, options <span class="token punctuation">[</span>nop,nop,TS val <span class="token number">4174891576</span> ecr <span class="token number">4174891570</span><span class="token punctuation">]</span>, length <span class="token number">0</span>
        0x0000:  <span class="token number">4500</span> 0034 64d7 <span class="token number">4000</span> <span class="token number">4006</span> d7ea 7f00 0001  E<span class="token punctuation">..</span>4d.@.@<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
        0x0010:  7f00 0001 bf62 04d3 2a92 aeeb 344e 35a5  <span class="token punctuation">..</span><span class="token punctuation">..</span>.b<span class="token punctuation">..</span>*<span class="token punctuation">..</span>.4N5.
        0x0020:  <span class="token number">8010</span> 0156 fe28 0000 0101 080a f8d7 ca38  <span class="token punctuation">..</span>.V.<span class="token punctuation">(</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.8
        0x0030:  f8d7 ca32                                <span class="token punctuation">..</span>.2
<span class="token number">22</span>:23:41.482203 IP VM-16-4-centos.48994 <span class="token operator">&gt;</span> VM-16-4-centos.mosaicsyssvc1: Flags <span class="token punctuation">[</span>F.<span class="token punctuation">]</span>, <span class="token function">seq</span> <span class="token number">6</span>, ack <span class="token number">4</span>, win <span class="token number">342</span>, options <span class="token punctuation">[</span>nop,nop,TS val <span class="token number">4174891576</span> ecr <span class="token number">4174891570</span><span class="token punctuation">]</span>, length <span class="token number">0</span>
        0x0000:  <span class="token number">4500</span> 0034 64d8 <span class="token number">4000</span> <span class="token number">4006</span> d7e9 7f00 0001  E<span class="token punctuation">..</span>4d.@.@<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.
        0x0010:  7f00 0001 bf62 04d3 2a92 aeeb 344e 35a6  <span class="token punctuation">..</span><span class="token punctuation">..</span>.b<span class="token punctuation">..</span>*<span class="token punctuation">..</span>.4N5.
        0x0020:  <span class="token number">8011</span> 0156 fe28 0000 0101 080a f8d7 ca38  <span class="token punctuation">..</span>.V.<span class="token punctuation">(</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.8
        0x0030:  f8d7 ca32                                <span class="token punctuation">..</span>.2
<span class="token number">22</span>:23:41.482222 IP VM-16-4-centos.mosaicsyssvc1 <span class="token operator">&gt;</span> VM-16-4-centos.48994: Flags <span class="token punctuation">[</span>.<span class="token punctuation">]</span>, ack <span class="token number">7</span>, win <span class="token number">342</span>, options <span class="token punctuation">[</span>nop,nop,TS val <span class="token number">4174891576</span> ecr <span class="token number">4174891576</span><span class="token punctuation">]</span>, length <span class="token number">0</span>
        0x0000:  <span class="token number">4500</span> 0034 ff95 <span class="token number">4000</span> <span class="token number">4006</span> 3d2c 7f00 0001  E<span class="token punctuation">..</span><span class="token number">4</span><span class="token punctuation">..</span>@.@.<span class="token operator">=</span>,<span class="token punctuation">..</span><span class="token punctuation">..</span>
        0x0010:  7f00 0001 04d3 bf62 344e 35a6 2a92 aeec  <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.b4N5.*<span class="token punctuation">..</span>.
        0x0020:  <span class="token number">8010</span> 0156 fe28 0000 0101 080a f8d7 ca38  <span class="token punctuation">..</span>.V.<span class="token punctuation">(</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.8
        0x0030:  f8d7 ca38                                <span class="token punctuation">..</span>.8
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div></details> <div class="custom-block tip"><p class="title">TCP三次握手</p><p>简单分析：</p> <p>含有SYN的标志称为同步报文</p> <blockquote><p>IP VM-16-4-centos.48994 &gt; VM-16-4-centos.mosaicsyssvc1: Flags [S], seq 714256101</p></blockquote> <p>这个时候标志多了<code>[S.]</code>，此时的<code>ack</code>比上面的<code>seq</code>多了1，这个就是确认报文</p> <blockquote><p>IP VM-16-4-centos.mosaicsyssvc1 &gt; VM-16-4-centos.48994: Flags [S.], seq 877540770, ack 714256102</p></blockquote> <p>这个是客户端的响应，标志没有了，这里有一个<code>ack 1</code>，也是确认报文，这里的<code>ack 1 = 877540770+1</code>的</p> <blockquote><p>IP VM-16-4-centos.48994 &gt; VM-16-4-centos.mosaicsyssvc1: Flags [.], ack 1</p></blockquote> <p><img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4021/20220621222931.png" alt="三次握手"></p></div><p>P标志的意义提示尽快的去接收数据</p> <blockquote><p>IP VM-16-4-centos.48994 &gt; VM-16-4-centos.mosaicsyssvc1: Flags [P.], seq 1:6, ack 1, win 342, options [nop,nop,TS val 4174891570 ecr 4174891569], length 5</p></blockquote> <p>服务端主动关闭：<code>FIN</code>标志：结束报文</p> <blockquote><p>IP VM-16-4-centos.mosaicsyssvc1 &gt; VM-16-4-centos.48994: Flags [F.], seq 3, ack 6</p></blockquote> <p>客户端使用<code>ack</code>确认报文，并没有彻底关闭</p> <blockquote><p>IP VM-16-4-centos.48994 &gt; VM-16-4-centos.mosaicsyssvc1: Flags [.], ack 3</p></blockquote> <p>客户端再使用<code>FIN</code>结束报文再发起一次确认</p> <blockquote><p>IP VM-16-4-centos.48994 &gt; VM-16-4-centos.mosaicsyssvc1: Flags [F.], seq 6, ack 4</p></blockquote> <p>服务端最终确认关闭</p> <blockquote><p>IP VM-16-4-centos.mosaicsyssvc1 &gt; VM-16-4-centos.48994: Flags [.], ack 7</p></blockquote> <p><img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/4021/20220621223509.png" alt="关闭"></p> <p>服务端调用<code>listen</code>函数处于<code>LISTEN</code>状态</p> <p>客户端调用<code>connect</code>函数发送<code>SYN</code>同步报文处于<code>SYN_SENT</code></p> <p>服务端使用<code>ACK</code>确认报文来进行确认，双方处于连接<code>ESTABLEISH</code>状态</p> <p>下面双方就可以收发数据了，上面就是TCP三次握手的具体细节了。</p> <h3 id="切换语言来观察系统调用的函数是否一致"><a href="#切换语言来观察系统调用的函数是否一致" class="header-anchor">#</a> 切换语言来观察系统调用的函数是否一致</h3> <p><code>server1.py</code></p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> socket

s <span class="token operator">=</span> socket<span class="token punctuation">.</span>socket<span class="token punctuation">(</span><span class="token punctuation">)</span>
host <span class="token operator">=</span> <span class="token string">&quot;0.0.0.0&quot;</span>
port <span class="token operator">=</span> <span class="token number">1235</span>
s<span class="token punctuation">.</span>bind<span class="token punctuation">(</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">)</span>

s<span class="token punctuation">.</span>listen<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        c<span class="token punctuation">,</span> addr <span class="token operator">=</span> s<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;连接地址: &quot;</span><span class="token punctuation">,</span> addr<span class="token punctuation">)</span>
        c<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token string">&quot;nihao!&quot;</span><span class="token punctuation">)</span>
        c<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>对比</p> <h4 id="php"><a href="#php" class="header-anchor">#</a> php</h4> <p><code>strace -f -s 65500 /usr/local/php server1.php</code>直接看最底下的几行</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>socket<span class="token punctuation">(</span>AF_INET, SOCK_STREAM, IPPROTO_IP<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span>
bind<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token punctuation">{</span>sa_family<span class="token operator">=</span>AF_INET, <span class="token assign-left variable">sin_port</span><span class="token operator">=</span>htons<span class="token punctuation">(</span><span class="token number">1235</span><span class="token punctuation">)</span>, <span class="token assign-left variable">sin_addr</span><span class="token operator">=</span>inet_addr<span class="token punctuation">(</span><span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>, <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
listen<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token number">5</span><span class="token punctuation">)</span>                            <span class="token operator">=</span> <span class="token number">0</span>
write<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token string">&quot;listen ok: on 1235&quot;</span>, 18listen ok: on <span class="token number">1235</span><span class="token punctuation">)</span>      <span class="token operator">=</span> <span class="token number">18</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>socket(AF_INET, SOCK_STREAM, IPPROTO_IP) = 3：使用<code>socket</code>函数使用套接字，IPV4的协议<code>AF_INET</code>，套接字类型，然后具体协议，创建成功后返回文件描述符3</li> <li>使用<code>bind</code>绑定函数，绑定1235端口</li> <li>使用监听函数<code>listen</code></li> <li>使用<code>accept</code>函数阻塞</li></ul> <p>监听客户端</p> <p><code>strace -f -s 65500 /usr/local/php client1.php</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>socket<span class="token punctuation">(</span>AF_INET, SOCK_STREAM, IPPROTO_IP<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span>
connect<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token punctuation">{</span>sa_family<span class="token operator">=</span>AF_INET, <span class="token assign-left variable">sin_port</span><span class="token operator">=</span>htons<span class="token punctuation">(</span><span class="token number">1235</span><span class="token punctuation">)</span>, <span class="token assign-left variable">sin_addr</span><span class="token operator">=</span>inet_addr<span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>, <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
write<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token string">&quot;clien&quot;</span>, <span class="token number">5</span><span class="token punctuation">)</span>                    <span class="token operator">=</span> <span class="token number">5</span>
write<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token string">&quot;write len:5<span class="token entity" title="\n">\n</span>&quot;</span>, 12write len:5
<span class="token punctuation">)</span>           <span class="token operator">=</span> <span class="token number">12</span>
recvfrom<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token string">&quot;hi&quot;</span>, <span class="token number">128</span>, <span class="token number">0</span>, NULL, NULL<span class="token punctuation">)</span>   <span class="token operator">=</span> <span class="token number">2</span>
write<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token string">&quot;recv from server1: hi<span class="token entity" title="\n">\n</span>&quot;</span>, 22recv from server1: hi
<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">22</span>
close<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>                                <span class="token operator">=</span> <span class="token number">0</span>
close<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>   
munmap<span class="token punctuation">(</span>0x7f0ce29b3000, <span class="token number">2176600</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce279a000, <span class="token number">2196680</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0cf10d3000, <span class="token number">192512</span><span class="token punctuation">)</span>          <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce2599000, <span class="token number">2097248</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce44a6000, <span class="token number">4284872</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce4234000, <span class="token number">2560784</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce3dd1000, <span class="token number">4596616</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce3b84000, <span class="token number">2410688</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce389b000, <span class="token number">3050080</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce3697000, <span class="token number">2109928</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce3464000, <span class="token number">2302680</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce3254000, <span class="token number">2160296</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce3050000, <span class="token number">2109720</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce2e29000, <span class="token number">2255216</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ce2bc7000, <span class="token number">2494984</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0cf1153000, <span class="token number">196608</span><span class="token punctuation">)</span>          <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0ceae00000, <span class="token number">2097152</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0cf1032000, <span class="token number">659456</span><span class="token punctuation">)</span>          <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f0cf11ac000, <span class="token number">135168</span><span class="token punctuation">)</span>          <span class="token operator">=</span> <span class="token number">0</span>
exit_group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>                           <span class="token operator">=</span> ?
+++ exited with <span class="token number">0</span> +++
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>然后服务端响应内容，等到有客户端进来就不阻塞了</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>socket<span class="token punctuation">(</span>AF_INET, SOCK_STREAM, IPPROTO_IP<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span>
bind<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token punctuation">{</span>sa_family<span class="token operator">=</span>AF_INET, <span class="token assign-left variable">sin_port</span><span class="token operator">=</span>htons<span class="token punctuation">(</span><span class="token number">1235</span><span class="token punctuation">)</span>, <span class="token assign-left variable">sin_addr</span><span class="token operator">=</span>inet_addr<span class="token punctuation">(</span><span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>, <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
listen<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token number">5</span><span class="token punctuation">)</span>                            <span class="token operator">=</span> <span class="token number">0</span>
write<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token string">&quot;listen ok: on 1235&quot;</span>, 18listen ok: on <span class="token number">1235</span><span class="token punctuation">)</span>      <span class="token operator">=</span> <span class="token number">18</span>
accept<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token punctuation">{</span>sa_family<span class="token operator">=</span>AF_INET, <span class="token assign-left variable">sin_port</span><span class="token operator">=</span>htons<span class="token punctuation">(</span><span class="token number">50626</span><span class="token punctuation">)</span>, <span class="token assign-left variable">sin_addr</span><span class="token operator">=</span>inet_addr<span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>, <span class="token punctuation">[</span><span class="token number">128</span>-<span class="token operator">&gt;</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span>
recvfrom<span class="token punctuation">(</span><span class="token number">4</span>, <span class="token string">&quot;clien&quot;</span>, <span class="token number">128</span>, <span class="token number">0</span>, NULL, NULL<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">5</span>
write<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token string">&quot;recv: clien<span class="token entity" title="\n">\n</span>&quot;</span>, 12recv: clien
<span class="token punctuation">)</span>           <span class="token operator">=</span> <span class="token number">12</span>
write<span class="token punctuation">(</span><span class="token number">4</span>, <span class="token string">&quot;hi&quot;</span>, <span class="token number">2</span><span class="token punctuation">)</span>                       <span class="token operator">=</span> <span class="token number">2</span>
write<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token string">&quot;write len: 2<span class="token entity" title="\n">\n</span>&quot;</span>, 13write len: <span class="token number">2</span>
<span class="token punctuation">)</span>          <span class="token operator">=</span> <span class="token number">13</span>
close<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>                                <span class="token operator">=</span> <span class="token number">0</span>
close<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>                                <span class="token operator">=</span> <span class="token number">0</span>
close<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>                                <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766dfb3000, <span class="token number">2176600</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766dd9a000, <span class="token number">2196680</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f767c594000, <span class="token number">192512</span><span class="token punctuation">)</span>          <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766db99000, <span class="token number">2097248</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766faa6000, <span class="token number">4284872</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766f834000, <span class="token number">2560784</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766f3d1000, <span class="token number">4596616</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766f184000, <span class="token number">2410688</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766ee9b000, <span class="token number">3050080</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766ec97000, <span class="token number">2109928</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766ea64000, <span class="token number">2302680</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766e854000, <span class="token number">2160296</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766e650000, <span class="token number">2109720</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766e429000, <span class="token number">2255216</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f766e1c7000, <span class="token number">2494984</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f767c614000, <span class="token number">196608</span><span class="token punctuation">)</span>          <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f7676400000, <span class="token number">2097152</span><span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f767c4f3000, <span class="token number">659456</span><span class="token punctuation">)</span>          <span class="token operator">=</span> <span class="token number">0</span>
munmap<span class="token punctuation">(</span>0x7f767c66d000, <span class="token number">135168</span><span class="token punctuation">)</span>          <span class="token operator">=</span> <span class="token number">0</span>
exit_group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>                           <span class="token operator">=</span> ?
+++ exited with <span class="token number">0</span> +++
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h4 id="python"><a href="#python" class="header-anchor">#</a> python</h4> <p><code>strace -f -s 65500 python server1.py</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>socket<span class="token punctuation">(</span>AF_INET, SOCK_STREAM<span class="token operator">|</span>SOCK_CLOEXEC, IPPROTO_IP<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span>
bind<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token punctuation">{</span>sa_family<span class="token operator">=</span>AF_INET, <span class="token assign-left variable">sin_port</span><span class="token operator">=</span>htons<span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span>, <span class="token assign-left variable">sin_addr</span><span class="token operator">=</span>inet_addr<span class="token punctuation">(</span><span class="token string">&quot;0.0.0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>, <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
listen<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token number">5</span><span class="token punctuation">)</span>                            <span class="token operator">=</span> <span class="token number">0</span>
accept4<span class="token punctuation">(</span><span class="token number">3</span>, 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>同样的最底下的基层代码都是一样的。</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>所以综上所述呢，不管啥编程语言，底层调用的系统函数完全一致，只是各个语法不一样。</p></div></section> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/sword-demon/vue-blog/edit/main/docs/views/net/网络编程概述.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新时间: </span> <span class="time">6/21/2022, 11:11:57 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/vue-blog/net/unix_udp/" class="prev">
            UNIX UDP
          </a></span> <!----></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/vue-blog/net/desc/#概述" class="sidebar-link reco-side-概述" data-v-70334359>概述</a></li><li class="level-2" data-v-70334359><a href="/vue-blog/net/desc/#使用命令来观察报文" class="sidebar-link reco-side-使用命令来观察报文" data-v-70334359>使用命令来观察报文</a></li><li class="level-3" data-v-70334359><a href="/vue-blog/net/desc/#切换语言来观察系统调用的函数是否一致" class="sidebar-link reco-side-切换语言来观察系统调用的函数是否一致" data-v-70334359>切换语言来观察系统调用的函数是否一致</a></li><li class="level-2" data-v-70334359><a href="/vue-blog/net/desc/#总结" class="sidebar-link reco-side-总结" data-v-70334359>总结</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div></div></div>
    <script src="/vue-blog/assets/js/app.f1f1676c.js" defer></script><script src="/vue-blog/assets/js/4.cb98655f.js" defer></script><script src="/vue-blog/assets/js/1.5cf0eecc.js" defer></script><script src="/vue-blog/assets/js/178.cb5172d3.js" defer></script>
  </body>
</html>
