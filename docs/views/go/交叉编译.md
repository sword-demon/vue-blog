---
title: '交叉编译'
date: 2022-01-03 13:48:15
# 永久链接
permalink: '/go/buildx'
sidebar: 'auto'
isShowComment: true
categories:
 - go
tags:
 - null
---



## Mac编译Linux可执行文件

Mac电脑编译得到Linux平台64位可以执行程序

```bash
CGO_ENABLE=0 GOOS=linux GOARCH=amd64 go build
```



## Mac编译Windows可执行文件

Mac电脑编译得到Windows平台64位可执行程序

```bash
CGO_ENABLE=0 GOOS=windows GOARCH=amd64 go build
```



## Linux编译Mac可执行文件

Linux平台下编译Mac平台64位可执行程序

```bash
CGO_ENABLE=0 GOOS=darwin GOARCH=amd64 go build
```



## Linux编译Windows可执行文件

Linux平台下编译Windows平台64位可执行程序

```bash
CGO_ENABLE=0 GOOS=windows GOARCH=amd64 go build
```



## Windows用户

如果使用的是`cmd`，那么请按照如下方式指定环境变量

```bash
SET CGO_ENABLE=0	// 禁用CGO
SET GOOS=linux		// 目标平台为linux
SET GOARCH=amd64	// 目标处理器架构师amd64
```

如果使用的是`powershell`终端，则语法为：

```bash
$ENV:CGO_ENABLE=0
$ENV:GOOS="linux"
$ENV:GOARCH="amd64"
```

在你的`windows`终端下执行完上述命令后，再执行以下命令，得到的就是能够在Linux平台运行的可执行文件了

```bash
go build
```



如果需要编译Mac可执行文件，就是把`GOOS`换成`drawin`即可。



